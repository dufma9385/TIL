## HTTP 응답분할

#### 발생원인 

외부 입력 값 중 CR(%0D),LF(%OA)가 필터링 되지 않고 HTTP 응답헤더에 포함되는 경우 응답이 분할되어 공격자가 의도하는 악의적인 코드가 실행될 수 있다.

#### 보안 취약점/약점 진단 및 시큐어 코딩

- 외부입력값이 응답헤더 생성에 사용되는지 체크

  ==> 쿠키나 헤더정보에 포함되는 외부입력값은 필터링 수행 후 사용하도록 수정



## 잘못된 보안 설정

### 디렉토리 리스팅

웹 서버 운영시 특정 디렉토리에 디폴트 파일(index.html, default.html 등)이 없는경우, 해당 디렉터리의 파일 리스트를 브라우저로 보여주게 되는 취약점

### 보안취약점 진단 및 보안 설정

#### 취약점 진단

- 디폴트 페이지 요청시 디렉토리 목록이 출력되는지 체크
- 구글 검색을 통해 디렉토리 목록 정보를 얻을 수 있는지 체크
- 웹취약점 진단 도구를 사용하여 디렉토리 목록이 노출되는지 체크

#### 보안설정

- 디렉토리 리스팅 취약점 제거를 위한 톰캣 서버설정
- 디렉토리 리스팅 취약점 제거를 위한 아파치 서버설정
- 디렉토리 리스팅 취약점 제거를 위한 IIS서버 설정



## 에러 노출

#### 취약점 발생 원인

프로그램에서 예외 처리에 대한 코드가 제대로 구현되지 않은 경우, 발생된 예외는 시스템에 전달된다.

이 경우 시스템의 디폴트 동작은 예외가 발생한 상황의 스택정보를 클라이언트인 브라우저로 출력하여 시스템 정보가 노출된다.

#### 보안취약점 진단

- 입력값을 좆가하여 에러메시지가 노출되는지 체크
- DB쿼리에 사용되는 입력값을 조작하여 에러메시지가 노출되는지 체크
- 자동화 도구를 이용하여 에러메시지가 노출되는지 체크

#### 보안

- 예외발생시 지정된 에러 페이지가 사용자에게 응답되도록 설정
- 예외발생시 지정된 에러페이지가 사용자에게 응답되도록 톰캣 서버 설정
- ​                                               ''                                                 IIS 서버 설정
- ​            "              Apache 서버 설정
- SpringMVC 프레임워크의 설정 파일을 사용하여 디폴트 에러 페이지 설정
- SpringMVC에서  @ControllerAdvice를 이용하여 예외 처리 설정



## 디폴트 설정 노출

불필요한 서비스, 페이지, 계정, 권한 등을 제거하지 않았거나 시스템 설치시 제공되는 기본 계정에 대해 암호 변경 및 사용 정지를 수행하지 않은 경우 발생

#### 보안취약점 진단

- 시스템 설치시 기본 설정된 패스워드가 사용 가능한 상태인지 체크

#### 보안

- 불필요한 계정, 권한, 서비스, 페이지 삭제



## 취약한 컴포넌트 사용

- 취약점 정보를 취득하기 위한 정보 검색 및 취약점 관리 프로젝트의 메일링을 이용하지 않거나 발표내용 등을 확인하지 않고 사용하는경우
- 소스코드에서 취약점이 있는 컴포넌트를 사용하고 있는지 여부와 그 영향을 실시간으로 파악하지 못하는경우

#### 보안취약점 진단 및 보안

- Apache CXF요소 검사 보안 우회 취약점을 이용한 공격 허용 여부 체크

  ==> 버전 업데이트

- Struts 2 특정 매개변수 처리 취약점 체크

  ==> 버전 업데이트



## usecase 그리기

include 매번인 경우

exteand 필수로 한번만 하면 되는것(회원가입)

